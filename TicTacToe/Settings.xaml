<Window x:Class="TicTacToe.Settings"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TicTacToe"
        xmlns:data="clr-namespace:TicTacToe"
        mc:Ignorable="d"
        Title="Settings" Height="650" Width="500"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundColor}" 
        BorderBrush="Black"
        BorderThickness="2"
        WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <SolidColorBrush x:Key="ActiveButtonColor" Color="LightGreen"/>
        <SolidColorBrush x:Key="DefaultButtonColor" Color="#ffb966"/>

        <Style x:Key="BaseButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="{StaticResource ButtonColor}"/>
            <Setter Property="FontSize" Value="30"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="BorderBrush" Value="Black"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontFamily" Value="Alef"/>
        </Style>

        <Style x:Key="PlayerButtonType" TargetType="{x:Type Button}"
               BasedOn="{StaticResource BaseButtonStyle}">
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding HumanPlayerSelection}" Value="X"/>

                        <Condition Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="X"/>
                    </MultiDataTrigger.Conditions>

                    <Setter Property="Background" Value="{StaticResource ActiveButtonColor}"/>
                </MultiDataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding HumanPlayerSelection}" Value="O"/>
                        <Condition Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="O"/>
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Background" Value="{StaticResource ActiveButtonColor}"/>
                </MultiDataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding HumanPlayerSelection}" Value="Random"/>
                        <Condition Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Random"/>
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Background" Value="{StaticResource ActiveButtonColor}"/>
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>


        <Style x:Key="DifficultyButtonType" TargetType="{x:Type Button}"
               BasedOn="{StaticResource BaseButtonStyle}">
            <Style.Triggers>
                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding AIDifficulty}" Value="Easy"/>

                        <Condition Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Easy"/>
                    </MultiDataTrigger.Conditions>

                    <Setter Property="Background" Value="{StaticResource ActiveButtonColor}"/>
                </MultiDataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding AIDifficulty}" Value="Medium"/>
                        <Condition Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Medium"/>
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Background" Value="{StaticResource ActiveButtonColor}"/>
                </MultiDataTrigger>

                <MultiDataTrigger>
                    <MultiDataTrigger.Conditions>
                        <Condition Binding="{Binding AIDifficulty}" Value="Hard"/>
                        <Condition Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="Hard"/>
                    </MultiDataTrigger.Conditions>
                    <Setter Property="Background" Value="{StaticResource ActiveButtonColor}"/>
                </MultiDataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <TextBlock
            Text="Settings"
            Grid.ColumnSpan="3"
            VerticalAlignment="Center"
            HorizontalAlignment="Center"
            FontSize="40"
            FontWeight="Bold"/>

        <Line 
            Grid.ColumnSpan="3"
            Stroke="Black"
            Grid.Row="1" 
            StrokeThickness="4" 
            OpacityMask="Black"
            X1="0"
            Y1="2"
            X2="500"
            Y2="2"
            />

        <TextBlock 
            Text="Enable Computer Player"
            ToolTip="Enables the computer player"
            FontSize="34"
            Grid.Row="1"
            Grid.Column="0"
            Grid.ColumnSpan="3"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"/>

        <ToggleButton x:Name="EnableComputer_ToggleButton"
                  Grid.Row="2"
                  Grid.Column="1"
                  VerticalAlignment="Center"
                  HorizontalAlignment="Center"
                  Background="#FFFFB966"
                  Width="25"
                  Height="25"
                  BorderBrush="Black"
                  IsChecked ="{Binding AIEnabled, Mode=TwoWay}">
        </ToggleButton>

        <TextBlock
            Grid.Row="4"
            Grid.Column="0"
            Grid.ColumnSpan="3"
            Text="Player Piece"
            VerticalAlignment="Bottom"
            HorizontalAlignment="Center"
            FontSize="34"/>

        <Button Content="X"
            x:Name="PlayerSelect_X"
            Tag="X"
            ToolTip="Plays as X, always goes first"
            Style="{StaticResource PlayerButtonType}"
            Width="50"
            Height="50"
            Click="Button_Click_PlayerSelect"
            IsEnabled="{Binding AIEnabled}"
            Grid.Column="0"
            Grid.Row="5"/>

        <Button Content="O"
            x:Name="PlayerSelect_O"
            Tag="O"
            ToolTip="Plays as O, always goes second"
            Style="{StaticResource PlayerButtonType}"
            Width="50"
            Height="50"
            Click="Button_Click_PlayerSelect"
            IsEnabled="{Binding AIEnabled}"
            Grid.Column="1"
            Grid.Row="5"/>

        <Button Content="?"
            x:Name="PlayerSelect_Random"
            Tag="Random"
            ToolTip="Play as a random player"
            Style="{StaticResource PlayerButtonType}"
            Width="50"
            Height="50"
            Click="Button_Click_PlayerSelect"
            IsEnabled="{Binding AIEnabled}"
            Grid.Column="2"
            Grid.Row="5"/>

        <TextBlock
            Text="Computer Difficulty"
            FontSize="34"
            Grid.Row="7"
            Grid.Column="0"
            Grid.ColumnSpan="3"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"/>

        <Button Content="Easy"
            x:Name="DifficultySelect_Easy"
            Style="{StaticResource DifficultyButtonType}"
            IsEnabled="{Binding AIEnabled}"
            Tag="Easy"
            FontSize="26"
            Click="Button_Click_DifficultySelect"
            Grid.Column="0"
            Grid.Row="8"
            />

        <Button Content="Medium"
            x:Name="DifficultySelect_Medium"
            Style="{StaticResource DifficultyButtonType}"
            Tag="Medium"
            IsEnabled="{Binding AIEnabled}"
            FontSize="26"
            Click="Button_Click_DifficultySelect"
            Grid.Column="1"
            Grid.Row="8"/>

        <Button Content="Hard"
            x:Name="DifficultySelect_Hard"
            Style="{StaticResource DifficultyButtonType}"
            Tag="Hard"
            IsEnabled="{Binding AIEnabled}"
            FontSize="26"
            Click="Button_Click_DifficultySelect"
            Grid.Column="2"
            Grid.Row="8"/>

        <Button Content="OK"
            x:Name="Button_OK"
            FontSize="26"
            Style="{StaticResource BaseButtonStyle}"
            HorizontalAlignment="Center"
            Click="Button_Click_OK"
            Grid.Column="1"
            Grid.Row="10"/>
    </Grid>
</Window>
